<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Financial Tracker Pro</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='45' fill='%232563eb'/><text x='50' y='68' font-family='Arial' font-size='50' text-anchor='middle' fill='white'>$</text></svg>">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ’° Financial Tracker Pro</h1>
            <p class="subtitle">Track your spending, master your budget</p>
        </header>
        
        <nav class="nav">
            <button onclick="showSection('dashboard')" class="nav-btn">ğŸ“Š Dashboard</button>
            <button onclick="showSection('add-payment')" class="nav-btn">ğŸ’³ Add Payment</button>
            <button onclick="showSection('add-income')" class="nav-btn">ğŸ’° Add Income</button>
            <button onclick="showSection('adjust-payment')" class="nav-btn">âœï¸ Manage</button>
            <button onclick="showSection('view-status')" class="nav-btn">ğŸ“ˆ Budget Status</button>
            <button onclick="showSection('settings')" class="nav-btn">âš™ï¸ Settings</button>
        </nav>

        <!-- Dashboard Section -->
        <section id="dashboard" class="section active">
            <h2>Financial Dashboard</h2>
            <div class="dashboard-grid">
                <div class="stat-card">
                    <h3>Current Balance</h3>
                    <div class="stat-amount" id="current-balance">$0.00</div>
                </div>
                <div class="stat-card">
                    <h3>Amex Progress</h3>
                    <div class="stat-amount" id="amex-progress">$0.00 / $2,100.00</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="amex-progress-bar"></div>
                    </div>
                </div>
                <div class="stat-card">
                    <h3>This Month</h3>
                    <div class="stat-amount" id="monthly-spending">$0.00</div>
                </div>
            </div>
            
            <div class="recent-transactions">
                <h3>Recent Transactions</h3>
                <div id="recent-transactions-list" class="transactions-list">
                    <p>Loading transactions...</p>
                </div>
            </div>
        </section>

        <!-- Add Payment Section -->
        <section id="add-payment" class="section">
            <h2>Add Payment</h2>
            <div class="form-group">
                <label for="amount">Amount:</label>
                <input type="number" id="amount" placeholder="0.00" step="0.01" min="0.01">
            </div>
            <div class="form-group">
                <label for="description">Description:</label>
                <input type="text" id="description" placeholder="Where did you spend this?">
            </div>
            <div class="form-group">
                <label for="category">Category:</label>
                <select id="category">
                    <option value="groceries">ğŸ›’ Groceries</option>
                    <option value="transport">ğŸš— Transport</option>
                    <option value="flex">ğŸ’¸ Flex Spending</option>
                    <option value="bills">ğŸ“‹ Bills</option>
                    <option value="amex">ğŸ’³ Amex Payment</option>
                    <option value="nelnet">ğŸ“ Nelnet Loan</option>
                    <option value="klarna">âœˆï¸ Klarna</option>
                    <option value="sister">ğŸ‘© Sister Debt</option>
                    <option value="fitness">ğŸ’ª Fitness</option>
                </select>
            </div>
            <button onclick="addPayment()" class="btn-primary">Add Payment</button>
        </section>

        <!-- Add Income Section -->
        <section id="add-income" class="section">
            <h2>Add Income</h2>
            <div class="form-group">
                <label for="income-amount">Amount:</label>
                <input type="number" id="income-amount" placeholder="0.00" step="0.01" min="0.01">
            </div>
            <div class="form-group">
                <label for="income-source">Source:</label>
                <input type="text" id="income-source" placeholder="Where did this come from?">
            </div>
            <button onclick="addIncome()" class="btn-primary">Add Income</button>
        </section>

        <!-- Adjust Payments Section -->
        <section id="adjust-payment" class="section">
            <h2>Manage Transactions</h2>
            <div class="transactions-list" id="manage-transactions-list">
                <p>Loading transactions...</p>
            </div>
        </section>

        <!-- View Status Section -->
        <section id="view-status" class="section">
            <h2>Budget Status</h2>
            <div id="budget-status">
                <p>Loading budget data...</p>
            </div>
        </section>

        <!-- Settings Section -->
        <section id="settings" class="section">
            <h2>Settings & Configuration</h2>
            <div class="setting-group">
                <h3>Google Sheets Status</h3>
                <div id="sheets-status" class="status-message">Checking connection...</div>
                <button onclick="testSheetsConnection()" class="btn-secondary">Test Connection</button>
            </div>
            
            <div class="setting-group">
                <h3>Data Management</h3>
                <button onclick="exportData()" class="btn-secondary">Export Data</button>
                <button onclick="clearLocalData()" class="btn-danger">Clear Local Data</button>
            </div>
        </section>

        <!-- Error Display -->
        <div id="error-message" class="error-message"></div>
        
        <!-- Loading Overlay -->
        <div id="loading-overlay" class="loading-overlay">
            <div class="loading-spinner"></div>
            <p id="loading-message">Loading...</p>
        </div>
    </div>

    <!-- Scripts -->
    <script src="config.js"></script>
    <script src="https://apis.google.com/js/api.js"></script>
    <script src="google-sheets.js"></script>
    <script src="auth.js"></script>
    <script src="script.js"></script>
</body>
</html>
